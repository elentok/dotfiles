source_dir() {
  if [[ -d "$*" ]]; then
    # the "(N)" part means "nullglob" (see http://mywiki.wooledge.org/NullGlob)
    for config_file in $*/*.zsh(N); do
      source $config_file
    done
  fi
}

source_dir ~/.dotlocal/zsh/before
source_dir ~/.dotfiles/zsh/before

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

source_dir ~/.dotfiles/zsh/after
source_dir ~/.dotlocal/zsh/after
