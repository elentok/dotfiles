#!/usr/bin/ruby

require "#{ENV['DOTF']}/framework.rb"
require 'date'

require_relative './packages/reader'
require_relative './packages/report'
require_relative './packages/tracker'

def main
  if ARGV.length == 0
    usage
  else
    cmd = ARGV.shift
    packages = PackageReader.read('~/.packages')
    if cmd == 'report'
      PackageReport.print(packages)
    elsif cmd == 'track'
      PackageTracker.track(packages)
    end
  end
end

def usage
  puts <<-EOF
pkgs - package tracking utility

Usage:

  pkgs report
  pkgs show

  EOF
end

main
