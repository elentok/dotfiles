function __fish_git_conflicts
  git diff --name-only --diff-filter=U
end

function gec -d "Edit Conflict"
  vim $argv
  read -p "echo 'Mark as resolved? (yes/[no])? '" yesno
  if test "$yesno" = "yes"
    echo "âœ” Marked as resolved"
    git add $argv
  end
end

function grc -d "Resolve Conflict"
  git add $argv
end

complete --no-files -c gec -a '(__fish_git_conflicts)'
complete --no-files -c grc -a '(__fish_git_conflicts)'

